{"is_source_file": true, "format": "TypeScript (Angular component)", "description": "This file defines an Angular component for a Tic-Tac-Toe game front-end. It manages game state, user interactions, AI move logic, and interactions with a backend service to save scores.", "external_files": ["../../services/supabase.service", "../../services/toast.service"], "external_methods": ["SupabaseService.isConfigured", "SupabaseService.saveScore", "ToastService.show"], "published": ["GameComponent"], "classes": [{"name": "GameComponent", "description": "An Angular component implementing a Tic-Tac-Toe game with AI and score saving functionality."}], "methods": [{"name": "onUsernameBlur", "description": "Checks if the username is entered and whether the backend service (Supabase) is configured; shows info toast if not."}, {"name": "makeMove", "description": "Handles the player's move, updates the game board, checks for a winner or draw, and triggers AI move if enabled."}, {"name": "reset", "description": "Resets the game state to start a new game."}, {"name": "getCell", "description": "Returns the value of a specific cell on the game board."}, {"name": "aiMove", "description": "Executes an AI move by selecting a random available cell."}, {"name": "endGame", "description": "Ends the game, marks it as over, and attempts to save the result via the backend service, showing a toast notification."}, {"name": "resultForWinner", "description": "Converts a winner ('X' or 'O') into a game result ('win' or 'loss')."}, {"name": "isDraw", "description": "Checks if the game is a draw (all cells filled without a winner)."}, {"name": "getWinner", "description": "Determines if there is a winner by checking all winning line combinations."}, {"name": "private readonly board = signal<Cell[]>(Array.from({ length: 9 }, () => null)); Array", "scope": "GameComponent", "scopeKind": "class", "description": "unavailable"}], "calls": ["this.getWinner", "this.endGame", "this.isDraw", "this.supabase.saveScore", "this.toast.show", "Math.random()", "setTimeout", "this.makeMove"], "search-terms": ["Angular Tic-Tac-Toe", "GameComponent", "score saving", "AI move", "supabase", "game logic", "score tracker", "player move", "frontend component"], "state": 2, "file_id": 25, "knowledge_revision": 66, "git_revision": "cacdd8587e8f9b7d0009dd07d4a29dd7258e6afc", "ctags": [{"_type": "tag", "name": "Array", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/pages/game/game.component.ts", "pattern": "/^  private readonly board = signal<Cell[]>(Array.from({ length: 9 }, () => null));$/", "language": "TypeScript", "kind": "method", "scope": "GameComponent", "scopeKind": "class"}, {"_type": "tag", "name": "Cell", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/pages/game/game.component.ts", "pattern": "/^type Cell = Player | null;$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "GameComponent", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/pages/game/game.component.ts", "pattern": "/^export class GameComponent {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "GameResult", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/pages/game/game.component.ts", "pattern": "/^import { SupabaseService, type GameResult } from '..\\/..\\/services\\/supabase.service';$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "Math", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/pages/game/game.component.ts", "pattern": "/^    const choice = open[Math.floor(Math.random() * open.length)];$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "Player", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/pages/game/game.component.ts", "pattern": "/^type Player = 'X' | 'O';$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "a", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/pages/game/game.component.ts", "pattern": "/^    for (const [a, b, c] of lines) {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "aiEnabled", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/pages/game/game.component.ts", "pattern": "/^  aiEnabled = true;$/", "language": "TypeScript", "kind": "property", "scope": "GameComponent", "scopeKind": "class"}, {"_type": "tag", "name": "b", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/pages/game/game.component.ts", "pattern": "/^    const b = this.board().slice();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "b", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/pages/game/game.component.ts", "pattern": "/^    for (const [a, b, c] of lines) {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "board", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/pages/game/game.component.ts", "pattern": "/^  private readonly board = signal<Cell[]>(Array.from({ length: 9 }, () => null));$/", "language": "TypeScript", "kind": "property", "scope": "GameComponent", "scopeKind": "class"}, {"_type": "tag", "name": "c", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/pages/game/game.component.ts", "pattern": "/^    for (const [a, b, c] of lines) {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "choice", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/pages/game/game.component.ts", "pattern": "/^    const choice = open[Math.floor(Math.random() * open.length)];$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "i", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/pages/game/game.component.ts", "pattern": "/^    for (let i = 0; i < b.length; i++) if (b[i] === null) open.push(i);$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "lines", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/pages/game/game.component.ts", "pattern": "/^    const lines = [$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "open", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/pages/game/game.component.ts", "pattern": "/^    const open: number[] = [];$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "save", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/pages/game/game.component.ts", "pattern": "/^    const save = await this.supabase.saveScore(this.username.trim(), result);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "username", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/pages/game/game.component.ts", "pattern": "/^  username = '';$/", "language": "TypeScript", "kind": "property", "scope": "GameComponent", "scopeKind": "class"}, {"_type": "tag", "name": "winner", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/pages/game/game.component.ts", "pattern": "/^    const winner = this.getWinner(b);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "winner", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/pages/game/game.component.ts", "pattern": "/^    const winner = this.getWinner(this.board());$/", "language": "TypeScript", "kind": "constant", "scope": "GameComponent.Array", "scopeKind": "method"}], "hash": "fe1d6279d657509fbd783a08aa761f50", "format-version": 4, "code-base-name": "tic_tac_toe_frontend", "filename": "tic_tac_toe_frontend/src/app/pages/game/game.component.ts", "fields": [{"name": "aiEnabled = true;", "scope": "GameComponent", "scopeKind": "class", "description": "unavailable"}, {"name": "private readonly board = signal<Cell[]>(Array.from({ length: 9 }, () => null));", "scope": "GameComponent", "scopeKind": "class", "description": "unavailable"}, {"name": "for (let i = 0; i < b.length; i++) if (b[i] === null) open.push(i);", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "username = '';", "scope": "GameComponent", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"66": "cacdd8587e8f9b7d0009dd07d4a29dd7258e6afc"}]}