{"is_source_file": true, "format": "TypeScript", "description": "This file defines an Angular service class 'SupabaseService' that provides methods to interact with a Supabase backend for a game scoring system. It includes functionality for configuration checking, saving scores, retrieving top scores, and handling related errors. It also declares associated interfaces for score data.", "external_files": ["../env"], "external_methods": ["createClient"], "published": ["SupabaseService", "TopScoreRow", "ScoreRow"], "classes": [{"name": "SupabaseService", "description": "An Angular service for managing interaction with the Supabase backend, including saving and retrieving game scores."}], "methods": [{"name": "isConfigured(): boolean { isConfigured", "description": "Checks if the Supabase client has been configured successfully.", "scope": "SupabaseService", "scopeKind": "class"}, {"name": "async saveScore( saveScore", "description": "Saves a score record for a given username and score to the Supabase database.", "scope": "SupabaseService", "scopeKind": "class"}, {"name": "async getTopScores( getTopScores", "description": "Retrieves the top scoring entries from the database, defaulting to the top 10.", "scope": "SupabaseService", "scopeKind": "class"}, {"name": "private isMissingTableError(error: { message: string; code?: string }): boolean { isMissingTableError", "description": "Determines whether an error from the database indicates that the 'scores' table is missing.", "scope": "SupabaseService", "scopeKind": "class"}, {"name": "private schemaHelpMessage(): string { schemaHelpMessage", "description": "Provides instructions for creating the necessary schema/table in Supabase if missing.", "scope": "SupabaseService", "scopeKind": "class"}, {"name": "constructor() { constructor", "scope": "SupabaseService", "scopeKind": "class", "description": "unavailable"}], "calls": ["createClient", "this.client.from", "this.client.select", "this.client.order", "this.client.limit", "console.warn", "console.error"], "search-terms": ["SupabaseClient", "saveScore", "getTopScores", "scores", "score saving", "leaderboard", "schema setup"], "state": 2, "file_id": 23, "knowledge_revision": 84, "git_revision": "b1d16d6b5cdee6f622c50dd21b68e969ea3152ac", "revision_history": [{"64": "cacdd8587e8f9b7d0009dd07d4a29dd7258e6afc"}, {"75": "cacdd8587e8f9b7d0009dd07d4a29dd7258e6afc"}, {"79": "660a6f2e9649977198d160213c45c250e5d62ae1"}, {"84": "b1d16d6b5cdee6f622c50dd21b68e969ea3152ac"}], "ctags": [{"_type": "tag", "name": "ScoreRow", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^interface ScoreRow {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "SupabaseClient", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^import { createClient, type SupabaseClient } from '@supabase\\/supabase-js';$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "SupabaseService", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^export class SupabaseService {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "TopScoreRow", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^export interface TopScoreRow {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "client", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  private readonly client: SupabaseClient | null;$/", "language": "TypeScript", "kind": "property", "scope": "SupabaseService", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  constructor() {$/", "language": "TypeScript", "kind": "method", "scope": "SupabaseService", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  created_at: string;$/", "language": "TypeScript", "kind": "property", "scope": "TopScoreRow", "scopeKind": "interface"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  created_at?: string;$/", "language": "TypeScript", "kind": "property", "scope": "ScoreRow", "scopeKind": "interface"}, {"_type": "tag", "name": "getTopScores", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  async getTopScores($/", "language": "TypeScript", "kind": "method", "scope": "SupabaseService", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  id?: string;$/", "language": "TypeScript", "kind": "property", "scope": "ScoreRow", "scopeKind": "interface"}, {"_type": "tag", "name": "insert", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^    const insert = await this.client.from('scores').insert(payload);$/", "language": "TypeScript", "kind": "constant", "scope": "SupabaseService.saveScore", "scopeKind": "method"}, {"_type": "tag", "name": "isConfigured", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  isConfigured(): boolean {$/", "language": "TypeScript", "kind": "method", "scope": "SupabaseService", "scopeKind": "class"}, {"_type": "tag", "name": "isMissingTableError", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  private isMissingTableError(error: { message: string; code?: string }): boolean {$/", "language": "TypeScript", "kind": "method", "scope": "SupabaseService", "scopeKind": "class"}, {"_type": "tag", "name": "msg", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^      const msg = this.schemaHelpMessage();$/", "language": "TypeScript", "kind": "constant", "scope": "SupabaseService.saveScore", "scopeKind": "method"}, {"_type": "tag", "name": "msg", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^    const msg = (error.message || '').toLowerCase();$/", "language": "TypeScript", "kind": "constant", "scope": "SupabaseService.isMissingTableError", "scopeKind": "method"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^    const payload: ScoreRow = { username, score };$/", "language": "TypeScript", "kind": "constant", "scope": "SupabaseService.saveScore", "scopeKind": "method"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^    const res = await this.client$/", "language": "TypeScript", "kind": "constant", "scope": "SupabaseService.getTopScores", "scopeKind": "method"}, {"_type": "tag", "name": "saveScore", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  async saveScore($/", "language": "TypeScript", "kind": "method", "scope": "SupabaseService", "scopeKind": "class"}, {"_type": "tag", "name": "schemaHelpMessage", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  private schemaHelpMessage(): string {$/", "language": "TypeScript", "kind": "method", "scope": "SupabaseService", "scopeKind": "class"}, {"_type": "tag", "name": "score", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^    const payload: ScoreRow = { username, score };$/", "language": "TypeScript", "kind": "constant", "scope": "SupabaseService.saveScore", "scopeKind": "method"}, {"_type": "tag", "name": "score", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  score: number;$/", "language": "TypeScript", "kind": "property", "scope": "ScoreRow", "scopeKind": "interface"}, {"_type": "tag", "name": "score", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  score: number;$/", "language": "TypeScript", "kind": "property", "scope": "TopScoreRow", "scopeKind": "interface"}, {"_type": "tag", "name": "username", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  username: string;$/", "language": "TypeScript", "kind": "property", "scope": "ScoreRow", "scopeKind": "interface"}, {"_type": "tag", "name": "username", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  username: string;$/", "language": "TypeScript", "kind": "property", "scope": "TopScoreRow", "scopeKind": "interface"}, {"_type": "tag", "name": "warnedAboutSchema", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  private warnedAboutSchema = false;$/", "language": "TypeScript", "kind": "property", "scope": "SupabaseService", "scopeKind": "class"}], "hash": "641f715a10e4559db12f7efd6625e3df", "format-version": 4, "code-base-name": "tic_tac_toe_frontend", "filename": "tic_tac_toe_frontend/src/app/services/supabase.service.ts", "fields": [{"name": "interface ScoreRow {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export interface TopScoreRow {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "private readonly client: SupabaseClient | null;", "scope": "SupabaseService", "scopeKind": "class", "description": "unavailable"}, {"name": "created_at: string;", "scope": "TopScoreRow", "scopeKind": "interface", "description": "unavailable"}, {"name": "created_at?: string;", "scope": "ScoreRow", "scopeKind": "interface", "description": "unavailable"}, {"name": "id?: string;", "scope": "ScoreRow", "scopeKind": "interface", "description": "unavailable"}, {"name": "score: number;", "scope": "ScoreRow", "scopeKind": "interface", "description": "unavailable"}, {"name": "username: string;", "scope": "ScoreRow", "scopeKind": "interface", "description": "unavailable"}, {"name": "private warnedAboutSchema = false;", "scope": "SupabaseService", "scopeKind": "class", "description": "unavailable"}]}