{"is_source_file": true, "file_id": 23, "git_revision": "", "state": 1, "description": "", "external_files": [], "external_methods": [], "published": [], "classes": [], "methods": [], "calls": [], "search-terms": [], "ctags": [{"_type": "tag", "name": "GameResult", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^export type GameResult = 'win' | 'draw' | 'loss';$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "LeaderboardRow", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^export interface LeaderboardRow {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "ScoreRow", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^interface ScoreRow {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "SupabaseClient", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^import { createClient, type SupabaseClient } from '@supabase\\/supabase-js';$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "SupabaseService", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^export class SupabaseService {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "client", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  private readonly client: SupabaseClient | null;$/", "language": "TypeScript", "kind": "property", "scope": "SupabaseService", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  constructor() {$/", "language": "TypeScript", "kind": "method", "scope": "SupabaseService", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  created_at?: string;$/", "language": "TypeScript", "kind": "property", "scope": "ScoreRow", "scopeKind": "interface"}, {"_type": "tag", "name": "getLeaderboard", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  async getLeaderboard(): Promise<{ ok: true; data: LeaderboardRow[] } | { ok: false; message: s/", "language": "TypeScript", "kind": "method", "scope": "SupabaseService", "scopeKind": "class"}, {"_type": "tag", "name": "getUserHistory", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  async getUserHistory($/", "language": "TypeScript", "kind": "method", "scope": "SupabaseService", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  id?: string;$/", "language": "TypeScript", "kind": "property", "scope": "ScoreRow", "scopeKind": "interface"}, {"_type": "tag", "name": "insert", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^    const insert = await this.client.from('scores').insert(payload);$/", "language": "TypeScript", "kind": "constant", "scope": "SupabaseService.saveScore", "scopeKind": "method"}, {"_type": "tag", "name": "isConfigured", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  isConfigured(): boolean {$/", "language": "TypeScript", "kind": "method", "scope": "SupabaseService", "scopeKind": "class"}, {"_type": "tag", "name": "isMissingTableError", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  private isMissingTableError(error: { message: string; code?: string }): boolean {$/", "language": "TypeScript", "kind": "method", "scope": "SupabaseService", "scopeKind": "class"}, {"_type": "tag", "name": "key", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^    const key = getRuntimeEnv('NG_APP_SUPABASE_KEY');$/", "language": "TypeScript", "kind": "constant", "scope": "SupabaseService.constructor", "scopeKind": "method"}, {"_type": "tag", "name": "latest_played", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  latest_played: string;$/", "language": "TypeScript", "kind": "property", "scope": "LeaderboardRow", "scopeKind": "interface"}, {"_type": "tag", "name": "map", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^      const map = new Map<string, { total: number; latest: string }>();$/", "language": "TypeScript", "kind": "constant", "scope": "SupabaseService.getLeaderboard", "scopeKind": "method"}, {"_type": "tag", "name": "mapResultToScore", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  private mapResultToScore(result: GameResult): number {$/", "language": "TypeScript", "kind": "method", "scope": "SupabaseService", "scopeKind": "class"}, {"_type": "tag", "name": "msg", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^      const msg = this.schemaHelpMessage();$/", "language": "TypeScript", "kind": "constant", "scope": "SupabaseService.saveScore", "scopeKind": "method"}, {"_type": "tag", "name": "msg", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^    const msg = (error.message || '').toLowerCase();$/", "language": "TypeScript", "kind": "constant", "scope": "SupabaseService.isMissingTableError", "scopeKind": "method"}, {"_type": "tag", "name": "numeric", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^    const numeric = this.mapResultToScore(result);$/", "language": "TypeScript", "kind": "constant", "scope": "SupabaseService.saveScore", "scopeKind": "method"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^    const payload: ScoreRow = { username, result: numeric };$/", "language": "TypeScript", "kind": "constant", "scope": "SupabaseService.saveScore", "scopeKind": "method"}, {"_type": "tag", "name": "prev", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^        const prev = map.get(row.username);$/", "language": "TypeScript", "kind": "constant", "scope": "SupabaseService.getLeaderboard", "scopeKind": "method"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^    const res = await this.client$/", "language": "TypeScript", "kind": "constant", "scope": "SupabaseService.getLeaderboard", "scopeKind": "method"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^    const res = await this.client$/", "language": "TypeScript", "kind": "constant", "scope": "SupabaseService.getUserHistory", "scopeKind": "method"}, {"_type": "tag", "name": "result", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^    const payload: ScoreRow = { username, result: numeric };$/", "language": "TypeScript", "kind": "constant", "scope": "SupabaseService.saveScore", "scopeKind": "method"}, {"_type": "tag", "name": "result", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  result: number; \\/\\/ 1 | 0.5 | 0$/", "language": "TypeScript", "kind": "property", "scope": "ScoreRow", "scopeKind": "interface"}, {"_type": "tag", "name": "row", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^      for (const row of res.data as ScoreRow[]) {$/", "language": "TypeScript", "kind": "constant", "scope": "SupabaseService.getLeaderboard", "scopeKind": "method"}, {"_type": "tag", "name": "rows", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^      const rows: LeaderboardRow[] = Array.from(map.entries()).map(([username, agg]) => ({$/", "language": "TypeScript", "kind": "constant", "scope": "SupabaseService.getLeaderboard", "scopeKind": "method"}, {"_type": "tag", "name": "saveScore", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  async saveScore(username: string, result: GameResult): Promise<{ ok: true } | { ok: false; mes/", "language": "TypeScript", "kind": "method", "scope": "SupabaseService", "scopeKind": "class"}, {"_type": "tag", "name": "schemaHelpMessage", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  private schemaHelpMessage(): string {$/", "language": "TypeScript", "kind": "method", "scope": "SupabaseService", "scopeKind": "class"}, {"_type": "tag", "name": "total_score", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  total_score: number;$/", "language": "TypeScript", "kind": "property", "scope": "LeaderboardRow", "scopeKind": "interface"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^    const url = getRuntimeEnv('NG_APP_SUPABASE_URL');$/", "language": "TypeScript", "kind": "constant", "scope": "SupabaseService.constructor", "scopeKind": "method"}, {"_type": "tag", "name": "username", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  username: string;$/", "language": "TypeScript", "kind": "property", "scope": "LeaderboardRow", "scopeKind": "interface"}, {"_type": "tag", "name": "username", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  username: string;$/", "language": "TypeScript", "kind": "property", "scope": "ScoreRow", "scopeKind": "interface"}, {"_type": "tag", "name": "warnedAboutSchema", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-score-tracker-301751-301763/tic_tac_toe_frontend/src/app/services/supabase.service.ts", "pattern": "/^  private warnedAboutSchema = false;$/", "language": "TypeScript", "kind": "property", "scope": "SupabaseService", "scopeKind": "class"}], "format": "TypeScript", "hash": "a088185f292800380960a3c09eee1c81", "format-version": 4, "code-base-name": "tic_tac_toe_frontend", "filename": "tic_tac_toe_frontend/src/app/services/supabase.service.ts", "knowledge_revision": 46}